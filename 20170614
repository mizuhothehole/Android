About the not sync problem of sharedpreferences between different processes

1.The first way is to make the sharedpreferences mode to multiprocess.
2.The second way is always use commit to change the shared prefetence because it is much harder.

How to confirm the next two cases？ That confirm the shatedconferences value in processB which is changed by a service in procesA？
What I can confirm？
1.The test instrumentation and the service are in different process.
2.The name of sharedpreferences is same in both test application and the running tested application
3.The contexts are not the same instance.
